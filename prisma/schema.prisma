generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  uid           Int        @id @default(autoincrement())
  email         String     @unique
  password      String?
  name          String
  permission    Permission @default(USER)
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt
  refreshToken  String?
  validationKey String?
}

model Member {
  id            Int      @id @default(autoincrement())
  generation    Int
  name          String
  department    String
  speciality     String
  introduction  String
  profile_image String   @default("/default.png")
  discord       String?
  github        String?
  instagram     String?
  solvedac      String?
  email         String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model Portfolio {
  id                Int        @id @default(autoincrement())
  tags              String[]
  title             String
  summary           String
  description       String?
  thumbnail         String
  para_member       String[]
  outside_member    String[]
  filePath          String
  date              DateTime[]
  link              String?
  github            String?
  createdAt         DateTime   @default(now())
  updatedAt         DateTime   @updatedAt
}

model Faq {
  id        Int      @id @default(autoincrement())
  question  String
  answer    String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Award {
  id        Int      @id @default(autoincrement())
  name      String // ex 2024 경기창고 준우승(2등상)
  member    String[] // ex ['이정훈', '이주안']
  year      Int // ex 2024
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Gallary {
  id          Int       @id @default(autoincrement())
  title       String
  description String
  photos      String[]
  date        DateTime
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

enum Permission {
  SUPER // 유저까지 다 관리
  MODERATOR // 지원폼까지 볼 수 있음
  MANAGER // 사이트 기본 설정만
  USER
}
